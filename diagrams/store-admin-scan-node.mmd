%%{init: {'theme': 'neutral', 'securityLevel': 'loose'}}%%
graph TD
  SAUI("Storage Admin UI")
  SA("Storage Admin Lambda")
  RDS[(Inventory DB)]
  SABUCK[/"Storage Admin Bucket"/]
  CLOUD(("Cloud Storage"))

  subgraph "use case: scan storage node for untracked files"
    SAUI-->SA
    CLOUD-->|"Crawl storage node generating a lis of keys"|SA
    SA-->|"lookup node key to see if it is tracked (work in batches)"|RDS
    SA-->|"create replication key delete list"|SABUCK
  end

  style RDS fill:#F68D2F
  style SABUCK fill:#77913C
  style CLOUD fill:#77913C
  
